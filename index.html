<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ramazon Taqvim 1447</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css?v=2">
</head>
<body>
    <!-- Screen 1: Welcome -->
    <div id="screen-welcome" class="screen active">
        <div class="welcome-container">
            <div class="welcome-icon">üåô</div>
            <h1>Ramazon Taqvim</h1>
            <h2>1447</h2>
            <p class="welcome-text">Muborak Ramazon oyiga tayyormisiz?<br>30 kunlik taqvim va milliy taomlar retseptlari</p>
            <button class="btn btn-primary" onclick="showScreen('screen-gender')">Boshlash</button>
        </div>
    </div>

    <!-- Screen 3: Gender Selection -->
    <div id="screen-gender" class="screen">
        <div class="form-container">
            <button class="btn-back" onclick="showScreen('screen-welcome')">‚Üê</button>
            <h2>Ma'lumotlaringiz</h2>
            <p class="form-hint">Ismingizni kiriting</p>

            <input
                type="text"
                id="name-input"
                class="text-input"
                placeholder="Ismingiz"
                oninput="validateNameForm()"
            >

            <button class="btn btn-primary" id="btn-gender-next" disabled onclick="finishOnboarding()">Davom etish</button>
        </div>
    </div>

    <!-- Screen 4: Greeting -->
    <div id="screen-greeting" class="screen">
        <div class="greeting-container">
            <div class="greeting-stars">
                <span>‚ú¶</span><span>‚ú¶</span><span>‚ú¶</span><span>‚ú¶</span><span>‚ú¶</span>
            </div>
            <div class="greeting-moon">üåô</div>
            <div class="greeting-name" id="greeting-name"></div>
            <div class="greeting-text" id="greeting-text"></div>
            <div class="greeting-year">1447</div>
            <button class="btn btn-greeting" onclick="afterGreeting()">Davom etish</button>
        </div>
    </div>

    <!-- Screen 5: Payment -->
    <div id="screen-payment" class="screen">
        <div class="payment-container">
            <div class="payment-icon">üí≥</div>
            <h2>To'lov</h2>
            <p class="payment-desc">Ilovadan foydalanish uchun to'lovni amalga oshiring</p>

            <div class="payment-card">
                <div class="payment-row">
                    <span class="payment-label">üí≥ Karta raqami:</span>
                    <span class="payment-value" id="card-number">5614 6821 1548 7631</span>
                    <button class="btn-copy" onclick="copyCard()">üìã</button>
                </div>
                <div class="payment-row">
                    <span class="payment-label">üë§ Karta egasi:</span>
                    <span class="payment-value">Nasibillo Ravshanbekov</span>
                </div>
                <div class="payment-row">
                    <span class="payment-label">üí∞ Narxi:</span>
                    <span class="payment-value payment-price">50 000 so'm</span>
                </div>
            </div>

            <p class="payment-hint">To'lov chekini yuklang va tasdiqlang</p>

            <div class="upload-area" id="upload-area" onclick="document.getElementById('check-input').click()">
                <div id="upload-placeholder">
                    <div class="upload-icon">üì∏</div>
                    <p>To'lov chekini yuklash</p>
                    <p class="upload-sub">Rasmni bosing yoki tanlang</p>
                </div>
                <img id="check-preview" class="check-preview" style="display:none">
            </div>
            <input type="file" id="check-input" accept="image/*" onchange="previewCheck(this)" style="display:none">

            <button class="btn btn-primary btn-payment" id="btn-confirm-payment" disabled onclick="confirmPayment()">‚úÖ To'lovni tasdiqlayman</button>

            <div id="payment-status" class="payment-status" style="display:none">
                <div class="payment-sent-icon">‚úÖ</div>
                <p>Chek yuborildi!</p>
                <p class="payment-status-sub">Admin tekshirgach sizga xabar keladi.<br>Ilovani yoping va kutib turing.</p>
                <button class="btn btn-primary btn-close-app" onclick="closeApp()">Yopish</button>
            </div>
        </div>
    </div>

    <!-- Screen: Recipe Detail -->
    <div id="screen-recipe" style="display:none">
        <div class="recipe-screen">
            <div class="recipe-img-wrapper">
                <button class="recipe-back" onclick="closeRecipe()">‚Üê</button>
                <img class="recipe-img" id="recipe-img" src="" alt="">
            </div>
            <div class="recipe-content">
                <h2 class="recipe-title" id="recipe-title"></h2>

                <h3 class="recipe-section-title">Kerakli mahsulotlar</h3>
                <div class="ingredient-list" id="ingredient-list"></div>

                <h3 class="recipe-section-title">Tayyorlanishi</h3>
                <div class="steps-list" id="steps-list"></div>

                <button class="btn btn-primary btn-tamomlash" onclick="showYoqimliIshtaha()">Tamomlash</button>
            </div>
        </div>
    </div>

    <!-- Screen: Yoqimli Ishtaha (Bon Appetit) -->
    <div id="screen-yoqimli" style="display:none">
        <div class="yoqimli-screen">
            <div class="yoqimli-icon">
                <img src="images/yoqimli-ishtaxa.png" alt="Yoqimli ishtaha" width="120" height="120">
            </div>
            <h1 class="yoqimli-title">Yoqimli ishtaha</h1>
            <p class="yoqimli-subtitle">Bugungi lazzatni his qiling!</p>
            <button class="btn btn-yoqimli" onclick="closeYoqimliIshtaha()">Bosh sahifa</button>
        </div>
    </div>

    <!-- Screen 6: Food (Women) -->
    <div id="screen-main" class="screen">
        <div class="food-container">
            <button class="btn-reset" onclick="resetApp()">Reset</button>

            <h1 class="food-title">Ramazon 2026</h1>

            <!-- Featured -->
            <div class="featured-card">
                <div class="featured-header">
                    <span>Bugungi tavsiyamiz!</span>
                    <span class="featured-star">‚≠ê</span>
                </div>
                <div class="featured-img" id="featured-img">
                    <img src="images/toshkent-oshi.jpg" alt="Tavsiya">
                </div>
            </div>

            <!-- Tabs -->
            <div class="food-tabs">
                <button class="tab active" onclick="switchTab('saharlik', this)">Saharlik</button>
                <button class="tab" onclick="switchTab('iftorlik', this)">Iftorlik</button>
                <button class="tab" onclick="switchTab('gazaklar', this)">Gazaklar</button>
            </div>

            <!-- Recipe Grid (populated by JS) -->
            <div class="food-grid" id="food-grid"></div>
        </div>
    </div>

    <script src="recipes-data.js?v=5"></script>
    <script src="app.js?v=5"></script>
</body>
</html>
